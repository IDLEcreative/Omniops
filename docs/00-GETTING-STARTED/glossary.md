# Glossary

Quick reference for technical terms used throughout the Omniops documentation.

**Last Updated:** 2025-10-24

---

## Architecture Terms

### Agent
An intelligent component that handles specific types of customer service interactions. Agents use AI to reason about queries and coordinate appropriate responses. Examples: `customer-service-agent`, `woocommerce-agent`, `shopify-agent`.

See: [AGENTS.md](../AGENTS.md)

### Provider
An abstraction layer that implements platform-specific operations (e.g., WooCommerce, Shopify) following a common interface. Enables multi-platform support without changing agent code.

See: `lib/agents/commerce-provider.ts`

### Service-Oriented Architecture (SOA)
The application's core design pattern separating concerns into layers: API Layer (`app/api/`), Business Logic (`lib/`), and Data Layer (Supabase).

See: [ARCHITECTURE.md](../ARCHITECTURE.md)

### Multi-Tenancy
Architecture pattern isolating customer data by domain. Each customer's data is completely separated using Row Level Security (RLS) and encrypted credentials.

See: [MULTI_TENANT_SETUP.md](../MULTI_TENANT_SETUP.md)

### Row Level Security (RLS)
PostgreSQL feature that enforces data isolation at the database level. Ensures customers can only access their own data, even if application code has bugs.

See: [RLS_TESTING_INFRASTRUCTURE.md](../RLS_TESTING_INFRASTRUCTURE.md)

### Dependency Injection
Design pattern where components receive their dependencies (like Supabase clients, OpenAI instances) from external sources rather than creating them internally. Improves testability.

See: [DEPENDENCY_INJECTION.md](../DEPENDENCY_INJECTION.md)

---

## Chat & AI Terms

### Session
A unique chat interaction identified by `session_id`. Contains multiple messages between a user and the AI agent. Sessions persist in the `conversations` table.

### Conversation
A collection of related messages within a session. Tracks the full dialogue history for context-aware responses.

See: `conversations` and `messages` tables in [database-schema.md](../01-ARCHITECTURE/database-schema.md)

### Context Window
The amount of conversation history and content the AI can process at once. Omniops manages this carefully to balance comprehensiveness with performance.

### Hallucination Prevention
Built-in safeguards that ensure the AI only states facts explicitly present in the data. The AI must admit uncertainty rather than inventing information.

See: [HALLUCINATION_PREVENTION.md](../HALLUCINATION_PREVENTION.md)

### Agentic Iteration
The AI's ability to make multiple tool calls in sequence to refine results. Limited to 3 iterations by default to balance thoroughness with response time.

See: [PERFORMANCE_OPTIMIZATION.md](../PERFORMANCE_OPTIMIZATION.md)

### Tool Call
An AI function invocation to perform actions like searching products, looking up orders, or getting product details. Tools extend the AI's capabilities beyond conversation.

### System Prompt
Instructions that define the AI's behavior, personality, and operational rules. Hidden from users but critical for accurate, helpful responses.

---

## Search & Retrieval Terms

### RAG (Retrieval-Augmented Generation)
AI pattern combining semantic search with language generation. The AI retrieves relevant content before generating responses, ensuring accuracy.

See: [RAG_IMPLEMENTATION.md](../RAG_IMPLEMENTATION.md)

### Vector Search
Semantic search using mathematical representations (embeddings) of text. Finds conceptually similar content even if exact keywords don't match.

### Hybrid Search
Combines vector search (semantic understanding) with keyword search (exact matches). Provides both precision and recall for optimal results.

See: [SEARCH_ARCHITECTURE.md](../SEARCH_ARCHITECTURE.md)

### Embeddings
Numerical representations of text (vectors) that capture semantic meaning. Generated by OpenAI's `text-embedding-3-small` model and stored in PostgreSQL with pgvector.

See: `page_embeddings` table in [database-schema.md](../01-ARCHITECTURE/database-schema.md)

### Semantic Search
Search based on meaning rather than exact keywords. "hydraulic pump replacement" matches "substitute fluid power unit" due to similar concepts.

### Keyword Search
Traditional search matching exact words. Fast and precise but misses semantically related content.

### Similarity Threshold
Minimum score (0.0-1.0) for search results. Default 0.15 balances relevance with recall. Lower = more results, higher = stricter matching.

### Query Cache
Performance optimization storing recent search results in `query_cache` table. Reduces redundant database queries and embedding generation.

See: `lib/search-cache.ts`

### Embedding Cache
In-memory cache storing query embeddings to avoid redundant OpenAI API calls. Saves cost and improves response time.

See: `lib/embedding-cache.ts`

### Domain Cache
Caches customer configuration data to avoid repeated database lookups. Massive performance improvement (saves ~21 seconds per query).

See: `lib/domain-cache.ts`

---

## E-commerce Terms

### WooCommerce Dynamic API
Lazy-loaded integration that fetches WooCommerce credentials only when needed. Reduces overhead for customers without e-commerce.

See: `lib/woocommerce-dynamic.ts`

### WooCommerce Full API
Comprehensive wrapper around WooCommerce REST API v3. Provides product search, order lookup, inventory tracking, and cart operations.

See: `lib/woocommerce-full.ts`

### Cart Tracker
System monitoring abandoned carts for recovery campaigns. Tracks cart items, expiration, and customer contact information.

See: [WOOCOMMERCE_ABANDONED_CARTS.md](../WOOCOMMERCE_ABANDONED_CARTS.md)

### Abandoned Cart
Shopping cart left inactive for a configurable period (default 24 hours). System can trigger recovery emails or notifications.

### Customer Verification
Authentication system allowing users to verify identity via email or order number for personalized service.

See: [CUSTOMER_VERIFICATION_SYSTEM.md](../CUSTOMER_VERIFICATION_SYSTEM.md)

### Order Lookup
Tool allowing AI to retrieve order details using order ID and email. Used for order status, tracking, and support inquiries.

### Stock Status
Real-time inventory information: `in_stock`, `out_of_stock`, `on_backorder`. Retrieved from WooCommerce or Shopify APIs.

### SKU (Stock Keeping Unit)
Unique product identifier used for inventory tracking. Critical for matching scraped content with e-commerce products.

### Commerce Provider
Platform-agnostic interface for e-commerce operations. Implementations exist for WooCommerce and Shopify with identical APIs.

See: `lib/agents/commerce-provider.ts`

---

## Web Scraping Terms

### Crawler
Automated system using Crawlee + Playwright to discover and extract website content. Respects robots.txt and rate limits.

See: `lib/crawler-config.ts`

### Content Extractor
Component using Mozilla Readability to extract clean, readable text from HTML pages. Removes navigation, ads, and boilerplate.

See: `lib/content-extractor.ts`

### Job Queue
Redis-backed background processing system for long-running scraping tasks. Provides status tracking and error handling.

See: `scrape_jobs` table in [01-ARCHITECTURE/database-schema.md](../../01-ARCHITECTURE/database-schema.md)

### Scrape Job
Background task representing a website scraping operation. Tracks status (`queued`, `processing`, `completed`, `failed`) and progress.

### Chunking
Process of splitting large content into optimal-sized pieces (typically 1000 characters) for embedding generation and search.

See: `npx tsx optimize-chunk-sizes.ts`

### Deduplication
Removing duplicate content based on URL or content hash. Essential for maintaining clean search results.

### Structured Extraction
Automated extraction of specific data types from scraped content: FAQs, products, contact info, pricing tables.

See: `structured_extractions` table in [01-ARCHITECTURE/database-schema.md](../../01-ARCHITECTURE/database-schema.md)

---

## Database & Infrastructure Terms

### Supabase
Open-source Firebase alternative providing PostgreSQL database, authentication, storage, and real-time subscriptions.

See: [SUPABASE_SETUP_INSTRUCTIONS.md](../SUPABASE_SETUP_INSTRUCTIONS.md)

### PostgreSQL
Advanced relational database powering Supabase. Provides ACID compliance, powerful queries, and extensions like pgvector.

### pgvector
PostgreSQL extension enabling vector similarity search. Stores and queries embeddings efficiently using indexes (IVFFlat, HNSW).

See: [PGVECTOR_FIX_DOCUMENTATION.md](../PGVECTOR_FIX_DOCUMENTATION.md)

### Service Role Key
Administrative Supabase API key bypassing Row Level Security. Used server-side for privileged operations. **Never expose client-side.**

### Anon Key
Public Supabase API key for client-side use. Row Level Security enforces access controls even with this key exposed.

### Migration
Versioned database schema change stored in `supabase/migrations/`. Applied sequentially to maintain consistency across environments.

See: Supabase CLI commands in [CLAUDE.md](../../CLAUDE.md)

### Supabase Management API
REST API for administrative operations (DDL, migrations) when CLI is unavailable or has conflicts.

See: [CLAUDE.md](../../CLAUDE.md#database-operations-via-supabase-management-api)

### Redis
In-memory data store used for job queues, caching, and rate limiting. Must be running for scraping features.

### Connection Pooling
Reusing database connections for efficiency. Supabase provides built-in pooling; application uses it for performance.

---

## Privacy & Compliance Terms

### GDPR (General Data Protection Regulation)
European privacy regulation requiring user consent, data portability, and right to deletion. Omniops is fully compliant.

See: [PRIVACY_GUIDE.md](../PRIVACY_GUIDE.md)

### CCPA (California Consumer Privacy Act)
California privacy law with similar requirements to GDPR. Application supports both standards.

### Data Export
User right to download all their personal data in machine-readable format (JSON). Endpoint: `/api/privacy/export`.

See: `app/api/privacy/export/route.ts`

### Data Deletion
User right to permanent data removal. Endpoint: `/api/privacy/delete` removes conversations, verifications, and cached data.

See: `app/api/privacy/delete/route.ts`

### Retention Policy
Configurable time period for storing data. Default: conversations retained 90 days, anonymous data indefinitely.

### AES-256 Encryption
Industry-standard encryption algorithm used for WooCommerce credentials, Shopify tokens, and sensitive configuration.

See: `lib/encryption.ts`

### Webhook Signature
HMAC-SHA256 cryptographic signature ensuring webhook requests are authentic. Prevents spoofing and tampering.

See: [README.md](../../README.md#webhook-security-configuration)

---

## Performance & Optimization Terms

### Token
Unit of text processing for AI models. Roughly 4 characters or 0.75 words. Directly impacts API costs and processing time.

### Token Budget
Maximum tokens available for a single operation. Balances comprehensiveness with cost and speed.

See: Token calculations in [SEARCH_ARCHITECTURE.md](../SEARCH_ARCHITECTURE.md#token-usage-calculation)

### GPT-4 vs GPT-4o
GPT-4o is 50% faster and 83% cheaper than GPT-4 with comparable quality. Recommended for customer service.

See: [PERFORMANCE_OPTIMIZATION.md](../PERFORMANCE_OPTIMIZATION.md#openai-model-optimization)

### Response Time
Time from user message to AI response. Target: <15 seconds. Current: 13-30s depending on complexity.

See: [PERFORMANCE_OPTIMIZATION.md](../PERFORMANCE_OPTIMIZATION.md#response-time-analysis)

### Rate Limiting
Per-domain request throttling to prevent abuse. Configurable limits with Redis-backed tracking.

See: `lib/rate-limit.ts`

### Lazy Loading
Delaying initialization of resources until needed. Used for OpenAI client, WooCommerce API, and heavy dependencies.

### Content Truncation
Showing first 200 characters of search results to balance context with token cost. Full content available via `get_product_details()`.

See: [PERFORMANCE_OPTIMIZATION.md](../PERFORMANCE_OPTIMIZATION.md#content-truncation-analysis)

### Query Timer
Performance monitoring tool tracking operation duration and enforcing timeouts. Prevents hung queries.

See: `lib/embeddings.ts`

### Parallel Processing
Executing multiple operations simultaneously using `Promise.all()`. Critical for tool calls and searches.

### Batch Operations
Processing multiple items in a single request. Used for embedding generation, database updates, and API calls.

---

## Development & Testing Terms

### MSW (Mock Service Worker)
Library intercepting HTTP requests during tests. Enables testing API integrations without external dependencies.

See: `__tests__/mocks/` and [MOCK_REFERENCE.md](../MOCK_REFERENCE.md)

### Jest
JavaScript testing framework used for unit and integration tests. Configured with TypeScript and React Testing Library.

### Test Coverage
Percentage of code exercised by tests. Target: >80% for critical paths. Generate with `npm run test:coverage`.

### Integration Test
Test verifying multiple components work together correctly. Example: API route + database + external API.

### Unit Test
Test verifying a single function or component in isolation. Uses mocks for dependencies.

### Dry Run
Preview mode showing what an operation would do without executing it. Used in cleanup scripts: `--dry-run`.

See: [DATABASE_CLEANUP.md](../DATABASE_CLEANUP.md)

### TypeScript Strict Mode
Compiler option enabling maximum type safety. Catches more bugs during development.

See: `tsconfig.json`

### Zod
TypeScript-first schema validation library. Used for API request/response validation and runtime type checking.

---

## Deployment & Operations Terms

### Docker BuildKit
Optimized Docker build system with caching and parallelization. 59% faster builds than classic builder.

See: [DOCKER_README.md](../setup/DOCKER_README.md)

### Multi-Stage Build
Dockerfile pattern separating build and runtime stages. Reduces final image size by excluding build dependencies.

### Container Orchestration
Managing multiple Docker containers (app, worker, Redis) using Docker Compose.

### Health Check
Automated test verifying service availability. Used in Docker Compose to ensure proper startup order.

### Hot Reload
Development feature automatically reloading code changes without restart. Provided by Next.js in dev mode.

### Production Build
Optimized application bundle for deployment. Generated with `npm run build`, uses standalone output.

### Environment Variables
Configuration values stored outside code. Required: API keys, database URLs, encryption secrets.

See: `.env.example`

---

## Index

**A**
- [AES-256 Encryption](#aes-256-encryption) | [Agent](#agent) | [Agentic Iteration](#agentic-iteration) | [Anon Key](#anon-key) | [Abandoned Cart](#abandoned-cart)

**B**
- [Batch Operations](#batch-operations)

**C**
- [Cart Tracker](#cart-tracker) | [CCPA](#ccpa-california-consumer-privacy-act) | [Chunking](#chunking) | [Commerce Provider](#commerce-provider) | [Connection Pooling](#connection-pooling) | [Container Orchestration](#container-orchestration) | [Content Extractor](#content-extractor) | [Content Truncation](#content-truncation) | [Context Window](#context-window) | [Conversation](#conversation) | [Crawler](#crawler) | [Customer Verification](#customer-verification)

**D**
- [Data Deletion](#data-deletion) | [Data Export](#data-export) | [Deduplication](#deduplication) | [Dependency Injection](#dependency-injection) | [Docker BuildKit](#docker-buildkit) | [Domain Cache](#domain-cache) | [Dry Run](#dry-run)

**E**
- [Embedding Cache](#embedding-cache) | [Embeddings](#embeddings) | [Environment Variables](#environment-variables)

**G**
- [GDPR](#gdpr-general-data-protection-regulation) | [GPT-4 vs GPT-4o](#gpt-4-vs-gpt-4o)

**H**
- [Hallucination Prevention](#hallucination-prevention) | [Health Check](#health-check) | [Hot Reload](#hot-reload) | [Hybrid Search](#hybrid-search)

**I**
- [Integration Test](#integration-test)

**J**
- [Jest](#jest) | [Job Queue](#job-queue)

**K**
- [Keyword Search](#keyword-search)

**L**
- [Lazy Loading](#lazy-loading)

**M**
- [Migration](#migration) | [MSW](#msw-mock-service-worker) | [Multi-Stage Build](#multi-stage-build) | [Multi-Tenancy](#multi-tenancy)

**O**
- [Order Lookup](#order-lookup)

**P**
- [Parallel Processing](#parallel-processing) | [pgvector](#pgvector) | [PostgreSQL](#postgresql) | [Production Build](#production-build) | [Provider](#provider)

**Q**
- [Query Cache](#query-cache) | [Query Timer](#query-timer)

**R**
- [RAG](#rag-retrieval-augmented-generation) | [Rate Limiting](#rate-limiting) | [Redis](#redis) | [Response Time](#response-time) | [Retention Policy](#retention-policy) | [Row Level Security](#row-level-security-rls)

**S**
- [Scrape Job](#scrape-job) | [Semantic Search](#semantic-search) | [Service Role Key](#service-role-key) | [Service-Oriented Architecture](#service-oriented-architecture-soa) | [Session](#session) | [Similarity Threshold](#similarity-threshold) | [SKU](#sku-stock-keeping-unit) | [Stock Status](#stock-status) | [Structured Extraction](#structured-extraction) | [Supabase](#supabase) | [Supabase Management API](#supabase-management-api) | [System Prompt](#system-prompt)

**T**
- [Test Coverage](#test-coverage) | [Token](#token) | [Token Budget](#token-budget) | [Tool Call](#tool-call) | [TypeScript Strict Mode](#typescript-strict-mode)

**U**
- [Unit Test](#unit-test)

**V**
- [Vector Search](#vector-search)

**W**
- [Webhook Signature](#webhook-signature) | [WooCommerce Dynamic API](#woocommerce-dynamic-api) | [WooCommerce Full API](#woocommerce-full-api)

**Z**
- [Zod](#zod)

---

## Related Documentation

- **[CLAUDE.md](../../CLAUDE.md)** - Developer guidelines and project conventions
- **[README.md](../../README.md)** - Project overview and quick start
- **[01-ARCHITECTURE/database-schema.md](../../01-ARCHITECTURE/database-schema.md)** - Complete database reference
- **[SEARCH_ARCHITECTURE.md](../SEARCH_ARCHITECTURE.md)** - Search system deep dive
- **[ARCHITECTURE.md](../ARCHITECTURE.md)** - System architecture overview

---

**Total Terms:** 93

**Categories:**
- Architecture: 6 terms
- Chat & AI: 8 terms
- Search & Retrieval: 11 terms
- E-commerce: 10 terms
- Web Scraping: 7 terms
- Database & Infrastructure: 10 terms
- Privacy & Compliance: 7 terms
- Performance & Optimization: 10 terms
- Development & Testing: 8 terms
- Deployment & Operations: 7 terms

---

*Last updated: 2025-10-24*
