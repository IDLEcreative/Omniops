# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
NEXT_PUBLIC_SUPABASE_PROJECT_REF=your-project-ref-here

# Supabase Management API (for scripts only - DO NOT commit real tokens)
# Get from: https://supabase.com/dashboard/account/tokens
SUPABASE_MANAGEMENT_TOKEN=sbp_your_management_token_here

# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here

# AI Model Configuration (REQUIRED)
# GPT-5 mini is now the only supported model (GPT-4 fallback removed)
USE_GPT5_MINI=true

# Redis Configuration (optional - defaults to redis://localhost:6379)
REDIS_URL=redis://localhost:6379

# Encryption Key (must be exactly 32 characters)
ENCRYPTION_KEY=your-32-character-encryption-key

# WooCommerce Configuration (optional)
WOOCOMMERCE_URL=https://your-woocommerce-store.com
WOOCOMMERCE_CONSUMER_KEY=ck_your_consumer_key_here
WOOCOMMERCE_CONSUMER_SECRET=cs_your_consumer_secret_here

# Cron Security (optional, for automated refresh)
CRON_SECRET=your-cron-secret-key-here

# Anthropic API (optional alternative to OpenAI)
# ANTHROPIC_API_KEY=sk-ant-your_anthropic_api_key_here

# Chat Response Configuration
# USE_SIMPLIFIED_PROMPT=true  # Enable concise responses (75 words max)

# Domain Cache Configuration (optional)
# CACHE_PRELOAD_DOMAINS=example.com,localhost  # Comma-separated domains to preload on startup

# Embedding Cache Configuration (optional)
# EMBEDDING_CACHE_ENABLED=true  # Enable embedding cache (default: true)
# EMBEDDING_CACHE_MAX_SIZE=1000  # Maximum number of cached embeddings (default: 1000)
# EMBEDDING_CACHE_TTL_MINUTES=60  # Time-to-live for cached embeddings in minutes (default: 60)

# Debug Endpoints (Development Only)
# Set to 'true' to enable debug endpoints in production (not recommended)
# ENABLE_DEBUG_ENDPOINTS=false
# Metadata System Feature Flag (Week 2+)
# Set to 'true' to enable enhanced conversation context (requires prompt optimization)
# Default: false (metadata tracks but doesn't inject context into prompts)
# Metadata context is now always enabled (no feature flag needed)

# MCP Code Execution (Production Ready - Phase 3 Complete)
# Enable MCP code execution for AI-generated TypeScript code
# 96.2% token savings (5,002 tokens/message) - $1.2M projected annual savings
MCP_EXECUTION_ENABLED=true
# Enable progressive disclosure (reduces prompt tokens from 5,200 to 198 tokens)
MCP_PROGRESSIVE_DISCLOSURE=true
# Deno executable path (auto-detected if not set)
# DENO_PATH=/usr/local/bin/deno

# ========================================
# Stripe Billing Configuration (REQUIRED)
# ========================================
# Get test keys from: https://dashboard.stripe.com/test/apikeys
# Get live keys from: https://dashboard.stripe.com/apikeys

# Stripe API Keys
STRIPE_SECRET_KEY=sk_test_your_secret_key_here
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here

# Stripe Webhook Secret
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Price IDs - Get from https://dashboard.stripe.com/prices
# These map to the pricing tiers: Small Business, SME, Mid-Market, Enterprise
NEXT_PUBLIC_STRIPE_PRICE_SMALL_BUSINESS=price_small_business_id_here
NEXT_PUBLIC_STRIPE_PRICE_SME=price_sme_id_here
NEXT_PUBLIC_STRIPE_PRICE_MID_MARKET=price_mid_market_id_here
NEXT_PUBLIC_STRIPE_PRICE_ENTERPRISE=price_enterprise_id_here

# Legacy price IDs (kept for backwards compatibility)
NEXT_PUBLIC_STRIPE_STARTER_PRICE_ID=price_starter_id_here
NEXT_PUBLIC_STRIPE_PROFESSIONAL_PRICE_ID=price_professional_id_here

# Application URL - Set this to your production domain
# Used for embed code generation in the dashboard
# Local: http://localhost:3000
# Production: https://omniops.co.uk (or your actual domain)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Platform Owner Configuration
# Email address of the platform owner (for /owner dashboard access)
PLATFORM_OWNER_EMAIL=your-email@example.com

# ========================================
# AI Quote System Configuration (OPTIONAL)
# ========================================
# Get free API key from: https://developer.company-information.service.gov.uk/
# Required for Companies House company lookups (unlimited free requests)
COMPANIES_HOUSE_API_KEY=your_companies_house_api_key_here

# Optional: Cloudflare API token for traffic estimation
# Get from: https://dash.cloudflare.com/profile/api-tokens
# CLOUDFLARE_API_TOKEN=your_cloudflare_api_token_here

# Optional: SimilarWeb API key for accurate traffic data (Â£200/month)
# Get from: https://account.similarweb.com/
# SIMILARWEB_API_KEY=your_similarweb_api_key_here

# Optional: WHOIS API key for domain information
# Free tier available at: https://whoisxmlapi.com/
# WHOIS_API_KEY=your_whois_api_key_here

# ========================================
# Multi-Tenant Configuration (OPTIONAL)
# ========================================
# Configure your primary/test domain for health checks and testing
# This maintains brand-agnostic multi-tenant architecture
TEST_DOMAIN=example.com
PRIMARY_DOMAIN=example.com

# Domain aliases for staging/development environments
# Maps staging domains to production domains for widget testing
# Example: {"staging.example.com":"example.com","dev.example.com":"example.com"}
DOMAIN_ALIASES={}
